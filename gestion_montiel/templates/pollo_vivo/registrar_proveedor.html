{% extends "base.html" %}

{% block content %}
    <header>
        <hgroup>
            <h1>{{ "Editar Proveedor" if form_data else "Registrar Nuevo Proveedor" }}</h1>
            <h2>Completa los datos del proveedor.</h2>
        </hgroup>
    </header>

    <form method="POST"> {# action="{{ url_for('pollo_vivo.registrar_proveedor') }}" no es necesario si el action es la misma URL #}
        <div class="grid">
            <label for="nombre">
                Nombre del Proveedor*
                <input type="text" id="nombre" name="nombre" placeholder="Ej: Proveedor Bachoco S.A." value="{{ request.form.nombre if request.form else '' }}" required>
            </label>
            <label for="contacto_telefono">
                Teléfono/Contacto
                <input type="text" id="contacto_telefono" name="contacto_telefono" placeholder="Ej: 2221234567" value="{{ request.form.contacto_telefono if request.form else '' }}">
            </label>
        </div>

        <div class="grid">
            <label for="datos_pago_banco">
                Banco
                <input type="text" id="datos_pago_banco" name="datos_pago_banco" placeholder="Ej: BBVA Bancomer" value="{{ request.form.datos_pago_banco if request.form else '' }}">
            </label>
            <label for="datos_pago_cuenta">
                No. Cuenta / CLABE
                <input type="text" id="datos_pago_cuenta" name="datos_pago_cuenta" placeholder="Ej: 012345678901234567" value="{{ request.form.datos_pago_cuenta if request.form else '' }}">
            </label>
        </div>
        
        <label for="notas_adicionales">Notas Adicionales</label>
        <textarea id="notas_adicionales" name="notas_adicionales" placeholder="Información extra sobre el proveedor...">{{ request.form.notas_adicionales if request.form else '' }}</textarea>

        <fieldset>
            <label for="activo">
                <input type="checkbox" id="activo" name="activo" value="1" {{ "checked" if (request.form.activo is defined and request.form.activo) or (request.form.activo is not defined) else "" }}>
                Proveedor Activo
            </label>
        </fieldset>
        
        <div class="grid">
            <button type="submit" class="contrast">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-save" viewBox="0 0 16 16" style="vertical-align: text-bottom; margin-right: 0.3em;">
                    <path d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1H2z"/>
                </svg>
                Guardar Proveedor
            </button>
            <a href="{{ url_for('pollo_vivo.listar_proveedores') }}" role="button" class="secondary outline">Cancelar</a>
        </div>
    </form>
{% endblock %}